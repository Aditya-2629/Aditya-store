import{g as l,s as q,u as C,p as g}from"./showToast-_1eOOesP.js";const P=(c,e)=>{let o=l().find(n=>n.id===c),a=1;if(o)return a=o.quantity,e=o.price,{quantity:a,price:e}};let f=document.querySelector(".productSubTotal"),x=document.querySelector(".productFinalTotal");const y=()=>{let r=l().reduce((o,a)=>{let n=parseInt(a.price)||0;return o+n},0);f.textContent=`₹ ${r}`,x.textContent=`₹ ${r+50}`},T=(c,e,r,o)=>{const a=document.querySelector(`#card${e}`),n=a.querySelector(".productQuantity"),s=a.querySelector(".productPrice");let t=1,u=0,d=l(),m=d.find(i=>i.id===e);m?(t=m.quantity,u=m.quantity):u=o,c.target.className==="cartIncrement"&&(t<r?t+=1:t===r&&(t=r,u=o*r)),c.target.className==="cartDecrement"&&t>1&&(t-=1),u=o*t,u=Number(u.toFixed(2));let p={id:e,quantity:t,price:u};p=d.map(i=>i.id===e?p:i),localStorage.setItem("getProductLS",JSON.stringify(p)),n.innerHTML=t,s.innerHTML=`₹ ${u}`,y()},L=(c,e)=>{let r=l();r=r.filter(a=>a.id!==c),localStorage.setItem("getProductLS",JSON.stringify(r));let o=document.getElementById(`card${c}`);o&&(o.remove(),q("delete",e)),C(r),y()};let F=l(),S=g.filter(c=>F.some(e=>e.id===c.id));console.log(S);const I=document.querySelector("#productCartContainer"),N=document.querySelector("#productTemplate"),$=()=>{S.forEach(c=>{const{id:e,name:r,category:o,price:a,stock:n,image:s}=c;let t=document.importNode(N.content,!0);const u=P(e,a);t.querySelector("#cardValue").setAttribute("id",`card${e}`),t.querySelector(".productName").textContent=r,t.querySelector(".productImage").src=s,t.querySelector(".productImage").alt=r,t.querySelector(".category").textContent=o,t.querySelector(".productPrice").textContent=` ₹ ${u.price.toFixed(2)}`,t.querySelector(".productQuantity").textContent=u.quantity,t.querySelector(".remove-to-cart-button").addEventListener("click",()=>L(e,r)),t.querySelector(".stockElem").addEventListener("click",d=>{T(d,e,n,a)}),I.append(t)})};$();y();
